name: âœğŸ» Automated PR Review

on:
  pull_request:
    types:
      - opened
      - reopened
      - synchronize

jobs:
  review-pr:
    name: Review
    runs-on: ubuntu-latest
    steps:
    - name: Checkout the repository
      uses: actions/checkout@v4

    - name: Install GitHub CLI
      run: |
        sudo apt-get install gh -y

    - name: Submit Approval Review
      env:
        GH_TOKEN: ${{ github.token }}
      run: |
        pr_url="${{ github.event.pull_request.url }}"
        review_body="
        ğŸ‰ ${{ github.event.pull_request.author }} , Great work on the Pull Request! ğŸš€

        Please ensure that this pull request should have:
        - ğŸ§ª The CI checks pass âœ…
        - ğŸ“œ You have read and followed the [contribution guidelines](https://github.com/offensive-vk/offensive-vk/blob/master/CONTRIBUTING.md) to ensure a smooth merge ğŸ”§
        - âš¡ One More Approval for the final boss ğŸ«…ğŸ»

        Keep up the awesome work and thank you for your contributions! Let's keep building amazing things together! ğŸ’ªâœ¨"

        gh pr review "$pr_url" --approve --body "$review_body" --repo "${{ github.repository }}"
